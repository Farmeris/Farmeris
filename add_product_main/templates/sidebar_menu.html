{% load i18n %}
{% load static %}

{% if user.is_authenticated %}
  <a href="{% url 'account_logout' %}" class="button-logout">Logout</a>
{% endif %}

{% get_available_languages as LANGUAGES %}
{% get_current_language as LANGUAGE_CODE %}
<form action="{% url 'set_language' %}" method="post" id="languageForm">
    {% csrf_token %}
    <input name="next" type="hidden" value="{{ request.get_full_path }}">
    <select name="language" onchange="this.form.submit();" class="sidebar-menu-item-lang">
      {% for code, name in LANGUAGES %}
        <option value="{{ code }}" {% if code == LANGUAGE_CODE %}selected{% endif %}>{{ code|upper }}</option>
      {% endfor %}
    </select>
</form>

<!-- <form method="post" id="themeSwitcherForm">
     {% csrf_token %}
     <input type="hidden" name="theme" value="{% if theme == 'light' %}dark{% else %}light{% endif %}">
     <div class="switch">
     <button id="themeSwitch" type="submit" class="{% if theme == 'dark' %}checked{% endif %}"></button>
     </div>
     </form>
-->

<form method="post" id="themeSwitcherForm2">
  {% csrf_token %}
  <div class="switch2container">
    <input type="hidden" name="theme" value="{% if theme == 'light' %}dark{% else %}light{% endif %}">
    <div class="switch2">
      <button id="themeswitch2" type="submit" class="{% if theme == 'dark' %}checked{% endif %}"></button>
    </div>
  </div>
</form>

<form method="post" id="filterTrustedForm">
  {% csrf_token %}
  <input type="hidden" name="filter_trusted" value="{% if user.userprofile.filter_trusted %}False{% else %}True{% endif %}">
  <div class="switch2container">
    <div class="switch2">
      {% if user.userprofile.filter_trusted %}
        <span id="filterSwitch2" class="filtered">Filtered</span>
      {% else %}
        <span id="filterSwitch2" class="unfiltered">Unfiltered</span>
      {% endif %}
    </div>
  </div>
  <button type="submit">Toggle Filter</button>
</form>
